# 📜 CHANGELOG  
Lịch sử các phiên bản phần mềm **Quản Lý Cầm Đồ**

---

## [1.4.1] – 2025-07-21  
### 🛠️ Hoàn thiện giao diện & bộ cài đặt

- 🪟 **Tên form hiển thị chuẩn trên thanh tác vụ**  
  - Cập nhật tiêu đề cửa sổ ứng dụng để hiển thị đúng tên phần mềm khi chạy  
  - Giúp người dùng dễ nhận diện và chuyển đổi giữa các cửa sổ

- 📦 **Bộ cài đặt được tối ưu lại**  
  - Sử dụng đúng file cài đặt `.NET Desktop Runtime 8.0.18` chính thức  
  - Tự động kiểm tra và cài đặt nếu thiếu, đảm bảo ứng dụng chạy ổn định  
  - Cấu hình shortcut, biểu tượng và logic khởi chạy sau cài đặt được hoàn thiện

- 🧹 **Dọn dẹp và chuẩn hóa mã nguồn cài đặt**  
  - Loại bỏ các file không cần thiết khỏi bộ cài  
  - Tăng tính ổn định và giảm khả năng lỗi khi cài đặt trên máy người dùng


---

## [1.4] – 2025-07-19  
### ⚙️ Tối ưu hiệu suất & trải nghiệm nhập liệu

- 🔁 **Đưa `LaiDenHomNay` về 0 cho hợp đồng hết hiệu lực**  
  - Tình trạng `-1` (đã chuộc) và `-2` (đã thanh lý) sẽ tự động reset `LaiDenHomNay`
  - Giúp thống kê chính xác, tránh dư lãi không thực tế

- 🔢 **Nhập liệu số mượt mà hơn**  
  - Tự động định dạng **hàng nghìn** trong lúc nhập  
  - Áp dụng cho số tiền, số điện thoại, CCCD  
  - Gõ nhanh, không nháy màn hình, trải nghiệm mượt mà hơn

- ⏩ **Tối ưu phân trang khi tìm kiếm**  
  - Khi lọc hợp đồng, phân trang vẫn giữ trạng thái mượt  
  - Tự động khóa nút tiến / lùi nếu đang ở trang đầu hoặc cuối

- 🧠 **Tối ưu kiểm tra mã hợp đồng tồn tại trong SQL**  
  - Giảm truy vấn dư thừa  
  - Rút ngắn thời gian xử lý khi thêm mới hoặc tìm kiếm

---

## [1.3.1] – 2025-07-15  
### 🧮 Chuẩn hóa so sánh số tiền – xử lý sai số số thực

- ✅ **Thêm sai số cho so sánh số tiền (`SoTienDaDong` vs `SoTienPhaiDong`)**:  
  - Do sử dụng kiểu `decimal` hoặc số thực, có thể phát sinh sai số rất nhỏ khi lưu (ví dụ `50,000` thành `50,000.000000001`)
  - Áp dụng ngưỡng sai số tối đa **999 đồng** khi so sánh
  - Giúp cập nhật tình trạng đóng lãi chính xác, không đánh dấu sai trạng thái

---

## [1.3] – 2025-07-10  
### 🎨 Giao diện nâng cao & thống kê chi tiết

- ✨ **Nâng cấp giao diện các hộp thoại thông báo**:
  - Hộp thoại Yes/No đẹp hơn, bố cục rõ ràng, không bị che nút
  - Thông báo in lịch sử đóng lãi rõ ràng hơn nếu đang mở file

- 🖼️ **Tối ưu lại giao diện thêm hợp đồng và ghi chú**:
  - Màu nền dịu, font chữ dễ đọc, bo góc đẹp mắt
  - Đồng bộ với giao diện thống nhất toàn phần mềm

- 📦 **Thêm trường `LaiDenHomNay` vào CSDL**:
  - Ghi lại số lãi đến thời điểm hiện tại (đã trừ các kỳ đã đóng)
  - Giúp hiển thị chính xác tổng lãi còn lại cần thu

- 📊 **Cập nhật tìm kiếm nâng cao**:
  - Hiển thị **tổng tiền đang cho vay**, **tổng lãi đã thu**, **tổng lãi đến hôm nay**
  - Tính cả `TienKhac` vào tổng lãi đã thu

- ✅ **Thêm checkbox “Bao gồm hợp đồng đã hết hiệu lực”**:
  - Mặc định chỉ lọc hợp đồng còn hiệu lực
  - Khi bật sẽ hiển thị cả hợp đồng đã chuộc, đã thanh lý
  - Sử dụng view để tối ưu hiệu suất lọc và tìm kiếm

- ⚙️ **Tối ưu cơ sở dữ liệu và câu lệnh SQL**:
  - Bổ sung `VIEW_HopDong_ConHieuLuc` và `VIEW_HopDong_HetHieuLuc`
  - Tự động cập nhật schema nếu thiếu cột

---

## [1.2.10] – 2025-07-08  
### 🌐 Chuẩn hóa định dạng & tương thích đa hệ điều hành

- 💰 **Chuẩn hóa định dạng số tiền** theo chuẩn quốc tế:
  - Dùng dấu **phẩy `,`** để phân cách **hàng nghìn**
  - Dùng dấu **chấm `.`** để phân cách **phần thập phân**

- 🌏 **Tương thích với mọi ngôn ngữ hệ điều hành** (Windows tiếng Việt, tiếng Anh,...)

- 📅 **Cải tiến định dạng ngày rõ ràng hơn**: `dd - MM - yyyy`

- 🛠️ **Bổ sung hàm định dạng số và ngày nhất quán**

---

## [1.2.9] – 2025-07-06  
### 🔐 Bảo vệ phần mềm bằng mật khẩu

- 🧩 Đặt mật khẩu đăng nhập, xác nhận 2 lần khi thay đổi
- 👁️ Form mật khẩu hiện đại, rõ ràng, bo tròn

---

## [1.2.8] – 2025-07-06  
### ⚙️ Cập nhật tự động & cải thiện giao diện tải

- 🔄 Tự động tải và cài đặt bản mới từ GitHub
- 🎨 Giao diện tải đẹp mắt, rõ ràng
- 🧹 Căn chỉnh lại vị trí các nút trong form

---

## [1.2.7] – 2025-07-05  
### 🧠 Lịch sử thao tác dễ đọc

- 📅 Định dạng ngày `dd-MM-yyyy` toàn hệ thống
- 🧾 Ghi chú định dạng rõ ràng, dễ nhìn
- ✅ Ghi rõ số ngày gia hạn và kỳ lãi

---

## [1.2.6] – 2025-07-04  
### 📊 Ghi nhận thống kê cố định theo tháng

- 🧾 Ghi tổng tiền đã thu và số hợp đồng theo tháng
- 🗃️ Dữ liệu cố định, không bị thay đổi khi cập nhật hợp đồng sau này

---

## [1.2.5] – 2025-07-03  
### 🎯 Cải thiện quản lý hợp đồng & lịch sử đóng lãi

- 📢 Cảnh báo khi mở hợp đồng đã xóa
- 🧹 Sửa bộ lọc hợp đồng đã chuộc
- 🎨 Bảng lịch sử đóng lãi có màu, icon minh họa
- 📅 Thêm cột “Tổng thời gian vay (ngày)”
- 🔁 Tự reload sau khi gia hạn/chuộc

---

## [1.2.4] – 2025-07-02  
### 🔍 Tìm kiếm thông minh & tự động hóa kỳ lãi

- 🔁 Tự tạo kỳ lãi đầu tiên
- 🔎 Tìm kiếm không dấu theo tên khách hàng
- ☁️ Kiểm tra phiên bản phần mềm online
- 🗃️ Tự cập nhật cấu trúc CSDL

---

## [1.2.2] – 2025-07-01  
### 🧾 Cập nhật in hợp đồng & lịch sử đóng lãi

- 📝 Sửa lỗi đọc số tiền bằng chữ
- 📅 Định dạng ngày `dd/MM/yyyy` cho in lịch sử
- 📂 In PDF lưu trong thư mục `Print/HopDong` và `Print/LichSu`

---

## [1.2.1] – 2025-07-01  
### 🔧 Cập nhật nhỏ nhưng quan trọng

- ✅ Thống kê hợp đồng đang vay, lãi thu trong tháng
- 🖨️ PDF Quest chỉnh đẹp theo mẫu thật
- 💄 Tinh chỉnh font, căn lề giao diện

---

## [1.1] – 2025-06-30  
### ✨ Phiên bản chính thức đầu tiên

- Giao diện hiện đại
- Quản lý hợp đồng vay đầy đủ
- Tính lãi, phân kỳ, lịch sử
- Tìm kiếm nâng cao, phân trang
- In PDF hợp đồng, lịch sử
- Bản quyền HWID
- Thống kê tiền vay, số hợp đồng, lãi thu

---

## [1.0] – 2025-06-15  
### 🧪 Phiên bản thử nghiệm nội bộ

- Tạo & lưu hợp đồng bằng SQLite
- Giao diện cơ bản
- Có tính lãi kỳ, in Word
- Chưa có bản quyền, phân trang, tìm kiếm
